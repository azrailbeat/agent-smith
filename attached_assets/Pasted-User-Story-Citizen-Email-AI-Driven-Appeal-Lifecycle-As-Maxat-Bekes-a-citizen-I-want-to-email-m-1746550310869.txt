Userâ€¯Story: â€œCitizenâ€¯Emailâ€¯â†’â€¯AIâ€‘Driven Appeal Lifecycleâ€
As MaxatÂ Bekes, a citizen
I want to email my question to a government address
So that the system automatically understands the topic, assigns it to the right department, and keeps me (and the clerk) fully updated via a clear Kanban UI.

1â€¯â €Entry Point â€” Emailâ€¯Inbound
Step	UI / UX Detail	System Action
1.1 Citizen sends an email to appeals@gov.kz with subject â€œĞĞµ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Ğ˜Ğ˜â€‘ÑƒÑĞ»ÑƒĞ³Ğ°â€ and attachments (screenshots).	â€“ No UI yet (citizenâ€™s mail client).	Ingest microâ€‘service parses MIME â†’ stores raw body & files in Appealâ€¯#13654.
1.2 Autoâ€‘acknowledgementÂ â¤ citizen receives â€œWe got it âœ… Appealâ€¯#13654â€.	â€“ Localised email template (KK/RU/EN)
â€“ SLA clock badge (â€œ24â€¯h to first responseâ€).	status = new, received_at, sla_due_at calculated.
1.3 New Kanban card appears in ĞĞ¾Ğ²Ñ‹Ğµ column (leftâ€‘most).	Card chip shows:
â€¢ Sender avatar/initials
â€¢ Medium priority pill
â€¢ 1â€‘line subject
â€¢ Miniâ€‘preview: first 80Â chars of body
â€¢ ğŸ“Â iconÂ = attachments present
â€¢ Date stamp	Realâ€‘time push over WebSocket to all operators with AIÂ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ°:â€¯ON toggle.

2â€¯â €AI Autoâ€‘Processing Modal
(exactly the dialog from your screenshot)

Clerk clicks â€œâš™Â Autoâ€‘Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ°â€ in top bar â†’ modal pops.

Toggles â€œĞ’ĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºÑƒ Ğ˜Ğ˜â€ â†’ chooses agent â€œAgentSmith â€“ ĞĞ³ĞµĞ½Ñ‚ Ğ´Ğ»Ñ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸ Ğ¾Ğ±Ñ€Ğ°Ñ‰ĞµĞ½Ğ¸Ğ¹ Ğ³Ñ€Ğ°Ğ¶Ğ´Ğ°Ğ½â€.

Leaves ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ°Ñ ĞºĞ»Ğ°ÑÑĞ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸ÑÂ ON, enables ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ñ€ĞµĞ·ÑĞ¼Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ, leaves ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ¾Ñ‚Ğ²ĞµÑ‚Ñ‹Â OFF.

Clicks Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºÑƒ.

Toast: â€œAI processing started for 1â€¯unhandled appeal, this may take ~30â€¯s.â€

3â€¯â €Behindâ€‘theâ€‘Scenes AI Tasks
Order	Microâ€‘Task	Output stored on card
â‘  Classification (LLMÂ +Â taxonomy)	category = documents, topic = eGov, urgency = medium	
â‘¡ Summarisation	summary = â€œĞ—Ğ°Ğ¿Ñ€Ğ¾Ñ Ğ³Ñ€Ğ°Ğ¶Ğ´Ğ°Ğ½Ğ¸Ğ½Ğ° ĞºĞ°ÑĞ°ĞµÑ‚ÑÑ Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ñ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ²...â€	
â‘¢ Namedâ€‘Entity & Intent extraction	entities = [â€œĞ˜Ğ˜â€‘ÑƒÑĞ»ÑƒĞ³Ğ°â€, â€œĞ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ñ‹â€]	
â‘£ Routing ruleÂ (OrgÂ matrix)	assigned_to = DigitalÂ Services Dept.	
â‘¤ Risk score (previous model)	risk = 37â€¯/â€¯100 (green)	

Each subâ€‘task appends a Timeline event (see Â§5).

4â€¯â €Automated Column Movements
status changes Newâ€¯â†’â€¯Ğ’Â Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğµ once assigned_toâ€¯â‰ â€¯null.

If AI detects missing info, card moves to ĞĞ¶Ğ¸Ğ´Ğ°Ğ½Ğ¸Ğµ with yellow tag â€œNeed citizen clarificationâ€ and autoâ€‘email sent.

When clerk posts resolution, they click Ğ—Ğ°ĞºÑ€Ñ‹Ñ‚ÑŒ â†’ card slides to Ğ’Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¾ (green).

If unansweredÂ >â€¯SLA, red pill SLAÂ Breach and autoâ€‘move to Urgent swimâ€‘lane inside Ğ’Â Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğµ.

All moves are dragâ€‘andâ€‘drop capable; manual drags log the same Timeline events.

5â€¯â €Cardâ€¯Detail View (Sidebar or Modal)
Zone	Elements
Header	Subject, current status pill, priority selector, risk bar, SLA countdown.
Left Pane	Original Email (richâ€‘text), collapsible Attachments gallery, Reply thread (if autoâ€‘answers enabled).
Right Pane	â€¢ AI Summary
â€¢ Classification chips (category, topic, urgency)
â€¢ Suggested Response Draft (if feature ON)
â€¢ Recommended Knowledge Articles (vector search links).
Bottom â€“ Timeline (reverseâ€¯chronological)	â€“ 05â€¯MayÂ 12:41Â ğŸŸ¢ â€œClerk Anna moved card to Ğ’Â Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğµ.â€
â€“ 05â€¯MayÂ 12:40Â ğŸ¤– â€œAutoâ€‘assigned to DigitalÂ Services Dept.â€
â€“ 05â€¯MayÂ 12:40Â ğŸ¤– â€œAI summary & classification complete.â€
â€“ 05â€¯MayÂ 12:39Â ğŸ“§ â€œAppeal received by system.â€
Meta Tab	Blockchain Txâ€¯hashes of each mutation (Hyperledgerâ€¯Besu) for audit.

6â€¯â €Endâ€‘toâ€‘End Scenario Walkâ€‘Through
NewÂ Appeal appears (citizen email).

Autoâ€‘processing classifies â†’ card jumps to Ğ’Â Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğµ, clerk gets bell notification.

Clerk opens card, reads AI summary, clicks â€œAnswer with templateâ€, edits, hits Send & Close.

Card animates rightwards into Ğ’Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¾.

Citizen gets closure email with ticket link + CSAT stars.

Supervisor views Analytics dashboard: conversion funnel, median time per column, risk heatâ€‘map.

Acceptance Criteria (DevÂ / QA)
Email ingestion must create card within 3â€¯s (95â€‘percentile).

AI classification accuracyâ€¯â‰¥â€¯90â€¯% on test set of 500Â labeled appeals.

Every status change emits TIMELINE_EVENT row and Besu smartâ€‘contract tx (tx id visible).

UI dragâ€‘andâ€‘drop latencyâ€¯<â€¯150â€¯ms; optimistic update with rollback on APIÂ error.

Citizen receives first autoâ€‘ack now, final closure later; bounce handling covered.

Result: A fully traceable, AIâ€‘augmented workflow where both citizen experience and internal efficiency are maximised, and every step is auditable down to individual column moves.